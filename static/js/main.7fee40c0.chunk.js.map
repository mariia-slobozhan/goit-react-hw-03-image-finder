{"version":3,"sources":["ImageGalleryItem/ImageGalleryItem.module.css","Modal/Modal.module.css","Loader/Loader.module.css","Button/Button.module.css","ImageGallery/ImageGallery.module.css","Loader/Loader.js","Searchbar/Searchbar.js","ImageGalleryItem/ImageGalleryItem.js","Button/Button.js","ImageGallery/ImageGallery.js","Modal/Modal.js","App.js","services/pictureSearchAPI.js","index.js","Searchbar/SearchBar.module.css"],"names":["module","exports","ContentLoader","className","s","loader","type","color","height","width","Searchbar","state","query","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","handleFormSubmit","toast","warn","searchbar","searchForm","onSubmit","this","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","name","onChange","Component","ImageGalleryItem","images","handleOpenPicture","map","image","imageGalleryItem","src","webformatURL","alt","tags","imageGalleryItemImage","onClick","id","Button","button","ImageGallery","imageGallery","onBtnClick","modalRoot","document","getElementById","Modal","handleKeyDown","code","console","log","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","largeImageURL","App","error","status","page","showModal","toggleModal","prevState","prevProps","axios","defaults","baseURL","parameters","get","then","response","data","hits","length","Promise","reject","Error","catch","pictureSearchAPI","totalHits","scrollTo","top","documentElement","scrollHeight","behavior","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.7fee40c0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1nkh5\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__1gKHt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__14y2V\",\"modal\":\"Modal_modal__3bjNa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__11jpy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1xq0y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__6--E2\"};","import Loader from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nexport default function ContentLoader() {\n  return (\n    <div className={s.loader}>\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n    </div>\n  );\n}\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { AiOutlineSearch } from \"react-icons/ai\";\nimport { toast } from \"react-toastify\";\nimport \"../../node_modules/react-toastify/dist/ReactToastify.css\";\nimport s from \"./SearchBar.module.css\";\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.query.trim() === \"\") {\n      toast.warn(\"Type some request word\");\n      return;\n    }\n    this.props.handleFormSubmit(this.state.query);\n    this.setState({ query: \"\" });\n  };\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.searchFormButton}>\n            <span className={s.searchFormButtonLabel}>\n              <AiOutlineSearch />\n            </span>\n          </button>\n\n          <input\n            className={s.searchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            name=\"query\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  handleFormSubmit: PropTypes.string,\n};\n","import s from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageGalleryItem({ images, handleOpenPicture }) {\n  return (\n    <>\n      {images.map((image) => (\n        <li key={image.id} className={s.imageGalleryItem}>\n          <img\n            src={image.webformatURL}\n            alt={image.tags}\n            className={s.imageGalleryItemImage}\n            onClick={() => handleOpenPicture(image)}\n          />\n        </li>\n      ))}\n    </>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      webformatURL: PropTypes.string,\n      tags: PropTypes.string,\n    })\n  ),\n  handleOpenPicture: PropTypes.func,\n};\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nclass Button extends Component {\n  render() {\n    return (\n      <button onClick={this.props.onClick} type=\"button\" className={s.button}>\n        Load more\n      </button>\n    );\n  }\n}\n\nexport default Button;\n\nButton.propTypes = {\n  onBtnClick: PropTypes.func,\n};\n","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Button from \"../Button/Button\";\nimport s from \"./ImageGallery.module.css\";\n\nclass ImageGallery extends Component {\n  render() {\n    return (\n      <>\n        <ul className={s.imageGallery}>\n          <ImageGalleryItem\n            images={this.props.images}\n            handleOpenPicture={this.props.handleOpenPicture}\n          />\n        </ul>\n        <Button onClick={this.props.onBtnClick} />\n      </>\n    );\n  }\n}\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  images: PropTypes.array,\n  handleOpenPicture: PropTypes.func,\n  onBtnClick: PropTypes.func,\n};\n","import { createPortal } from \"react-dom\";\nimport { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      console.log(\"Hello\");\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { image } = this.props;\n    return createPortal(\n      <div onClick={this.handleBackdropClick} className={s.overlay}>\n        <div className={s.modal}>\n          <img src={image.largeImageURL} alt={image.tags} />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n\nModal.propTypes = {\n  onClose: PropTypes.func,\n  image: PropTypes.object,\n};\n","import { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"../node_modules/react-toastify/dist/ReactToastify.css\";\nimport ContentLoader from \"./Loader/Loader\";\nimport \"./App.css\";\nimport pictureSearchAPI from \"./services/pictureSearchAPI\";\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Modal from \"./Modal/Modal\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    images: [],\n    error: null,\n    status: \"idle\",\n    page: 1,\n    showModal: false,\n    image: {},\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n    if (prevState.query !== query || prevState.page !== page) {\n      this.setState({ status: \"pending\" });\n\n      pictureSearchAPI(query, page)\n        .then((images) => {\n          console.log(images);\n          if (images.data.totalHits === 0) {\n            this.setState({\n              status: \"rejected\",\n            });\n          }\n          this.setState((prevState) => ({\n            images: [...prevState.images, ...images.data.hits],\n            status: \"resolved\",\n            page: prevState.page,\n          }));\n          if (this.state.images.length > 12) {\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n            });\n          }\n        })\n        .catch((error) => this.setState({ error, status: \"rejected\" }));\n    }\n  }\n\n  handleFormSubmit = (query) => {\n    this.setState({ query, page: 1, images: [] });\n  };\n\n  toggleModal = () => {\n    this.setState((prevState) => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  handleOpenPicture = (image) => {\n    this.setState({ image, showModal: true });\n  };\n\n  onBtnClick = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  render() {\n    const { images, status } = this.state;\n\n    return (\n      <div>\n        <ToastContainer autoClose={3500} />\n        <Searchbar handleFormSubmit={this.handleFormSubmit} />\n        {status === \"idle\" && (\n          <div className=\"error\">Type some request word</div>\n        )}\n        {status === \"rejected\" && (\n          <div className=\"error\">Can not find images for your request</div>\n        )}\n        {status === \"pending\" && <ContentLoader />}\n        {status === \"resolved\" && (\n          <ImageGallery\n            images={images}\n            onBtnClick={this.onBtnClick}\n            handleOpenPicture={this.handleOpenPicture}\n          />\n        )}\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal} image={this.state.image} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import axios from \"axios\";\n\nexport default function handleRequest(query, page) {\n  axios.defaults.baseURL = \"https://pixabay.com/api/\";\n  const key = \"23875883-62ec2e0d3177fc3e314277236\";\n  const parameters = `?key=${key}&q=${query}&per_page=12&image_type=photo&orientation=horizontal&page=${page}`;\n  return axios\n    .get(parameters)\n    .then((response) => {\n      if (response.data.hits.length === 0) {\n        return Promise.reject(\n          new Error(\"Can not find any photos for your request\")\n        );\n      }\n      return response;\n    })\n    .catch((error) => {\n      return error;\n    });\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"SearchBar_searchbar__2Hvu5\",\"searchForm\":\"SearchBar_searchForm__7Jgzn\",\"searchFormButton\":\"SearchBar_searchFormButton__1BERM\",\"searchFormButtonLabel\":\"SearchBar_searchFormButtonLabel__37Ute\",\"searchFormInput\":\"SearchBar_searchFormInput__2_dbI\"};"],"sourceRoot":""}